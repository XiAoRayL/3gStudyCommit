
#include <stdio.h>
#include <string.h>
char top[10005];

struct node {
	int flag;
	char s;
};
struct node string[10005];
int book[7];

int main() {
	int i = 0;
	int a;
	while ( (a = getchar()) != '\n') {
		string[i].s = a;
		if (string[i].s == '(')
			string[i].flag = 1;
		if (string[i].s == ')')
			string[i].flag = 4;
		if (string[i].s == '[')
			string[i].flag = 2;
		if (string[i].s == ']')
			string[i].flag = 5;
		if (string[i].s == '{')
			string[i].flag = 3;
		if (string[i].s == '}')
			string[i].flag = 6;
		i++;
	}
	int len = i;
	if (i % 2 != 0) {
		printf("false");
		return 0;
	}
	int j = 0;
	for (i = 0; i < len; i++) {//从0到len-1开始
		if (string[i].flag <= 3) {//是左括号就进栈，并标记哪种左括号
			top[++j] = string[i].s; //将左括号放入栈里
			book[string[i].flag] = 1;//将这个左括号编号用book[flag]记录为1；
		}
		if (string[i].flag > 3) { //如果是右括号
			{
				//如果此右括号有与其相应的左括号
				if (book[string[i].flag - 3] == 1) {
					book[string[i].flag - 1] = 0; //将这个左括号取消标记
					--j;//将其退栈
				}
			}
		}
	}
	if (j == 0)
		printf("true");
	else
		printf("false");
	return 0;
}
